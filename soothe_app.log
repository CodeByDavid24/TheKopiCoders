2025-05-15 23:47:15,649 - __main__ - INFO - Enhanced content filter initialized successfully
2025-05-15 23:47:15,651 - __main__ - INFO - Loading character data from JSON file
2025-05-15 23:47:15,651 - __main__ - WARNING - JSON file not found: characters/serena.json
2025-05-15 23:47:15,652 - __main__ - INFO - Checking Anthropic SDK version
2025-05-15 23:47:15,652 - __main__ - INFO - Attempting to initialize Claude client with standard configuration
2025-05-15 23:47:15,652 - __main__ - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-15 23:47:15,866 - __main__ - INFO - Starting SootheAI application
2025-05-15 23:47:15,866 - __main__ - INFO - Initializing game interface
2025-05-15 23:47:15,942 - __main__ - INFO - Launching game interface
2025-05-15 23:47:16,241 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-15 23:47:16,953 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-15 23:47:18,348 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-15 23:47:20,633 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-15 23:47:21,599 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-15 23:47:42,526 - __main__ - INFO - Processing message in main loop: i agree...
2025-05-15 23:47:42,527 - __main__ - INFO - User consent received
2025-05-15 23:47:47,226 - __main__ - INFO - Processing message in main loop: start game...
2025-05-15 23:47:47,227 - __main__ - INFO - Starting new game
2025-05-15 23:47:47,229 - __main__ - INFO - Requesting initial narrative from Claude API
2025-05-15 23:47:54,857 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-15 23:47:54,864 - __main__ - INFO - Successfully received and filtered initial narrative from Claude API
2025-05-15 23:47:54,877 - __main__ - INFO - Started TTS thread for text: The early morning sun filters through the curtains...
2025-05-15 23:47:54,885 - __main__ - INFO - Streaming TTS for initial narrative
2025-05-15 23:47:54,978 - __main__ - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-15 23:47:56,743 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-15 23:49:15,539 - __main__ - INFO - [DEBUG] TTS streaming duration: 80.56 seconds
2025-05-15 23:58:09,117 - __main__ - INFO - Processing message in main loop: hello...
2025-05-15 23:58:09,118 - __main__ - INFO - Interaction count: 1
2025-05-15 23:58:09,119 - __main__ - INFO - Sending message to Claude API: hello...
2025-05-15 23:58:14,954 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-15 23:58:14,962 - __main__ - INFO - Started TTS thread for text: Welcome to Serena's story. Let's begin...

The ala...
2025-05-15 23:58:14,963 - __main__ - INFO - Received and filtered response from Claude API: Welcome to Serena's story. Let's begin...

The ala...
2025-05-15 23:58:14,966 - __main__ - INFO - Streaming TTS for response: Welcome to Serena's story. Let's begin...

The ala...
2025-05-15 23:58:15,063 - __main__ - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-15 23:58:15,583 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-15 23:58:48,478 - __main__ - ERROR - TTS Error: [Errno 32] Broken pipe
2025-05-17 13:21:01,374 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-17 13:21:01,375 - __main__ - INFO - Starting SootheAI application
2025-05-17 13:21:01,376 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-17 13:21:01,376 - __main__ - INFO - Setting up ElevenLabs client
2025-05-17 13:21:01,575 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-17 13:21:01,575 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-17 13:21:01,576 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-17 13:21:01,777 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-17 13:21:01,777 - soothe_app.src.utils.file_loader - WARNING - Character data not found for serena, using default values
2025-05-17 13:21:01,778 - __main__ - INFO - Loaded character data for Serena
2025-05-17 13:21:01,779 - __main__ - INFO - Creating Gradio interface
2025-05-17 13:21:01,779 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-17 13:21:01
2025-05-17 13:21:01,779 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-17 13:21:01,780 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-17 13:21:01,780 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-17 13:21:01,780 - soothe_app.src.ui.gradio_interface - INFO - GradioInterface initialized
2025-05-17 13:21:01,780 - soothe_app.src.ui.gradio_interface - INFO - Creating Gradio interface
2025-05-17 13:21:01,854 - soothe_app.src.ui.gradio_interface - INFO - Launching Gradio interface
2025-05-17 13:21:02,122 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-17 13:21:02,888 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-17 13:21:04,258 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-17 13:21:06,475 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-17 13:21:07,494 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-17 13:22:08,893 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: i agree...
2025-05-17 13:22:08,895 - soothe_app.src.core.narrative_engine - INFO - User consent received
2025-05-17 13:22:08,897 - soothe_app.src.models.game_state - INFO - User consent recorded
2025-05-17 13:22:13,634 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: start game...
2025-05-17 13:22:13,635 - soothe_app.src.core.narrative_engine - INFO - Starting new game
2025-05-17 13:22:13,638 - soothe_app.src.core.narrative_engine - INFO - Requesting initial narrative from Claude API
2025-05-17 13:22:13,641 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-17 13:22:21,569 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-17 13:22:21,574 - soothe_app.src.models.game_state - INFO - Starting narrative set
2025-05-17 13:22:21,577 - soothe_app.src.core.narrative_engine - INFO - Successfully initialized game with starting narrative
2025-05-18 12:20:45,905 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-18 12:20:45,906 - __main__ - INFO - Starting SootheAI application
2025-05-18 12:20:45,907 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-18 12:20:45,907 - __main__ - INFO - Setting up ElevenLabs client
2025-05-18 12:20:46,110 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-18 12:20:46,111 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-18 12:20:46,111 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-18 12:20:46,355 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-18 12:20:46,356 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-18 12:20:46,360 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-18 12:20:46,361 - __main__ - INFO - Loaded character data for Serena
2025-05-18 12:20:46,362 - __main__ - INFO - Creating Gradio interface
2025-05-18 12:20:46,363 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-18 12:20:46
2025-05-18 12:20:46,364 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-18 12:20:46,364 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-18 12:20:46,366 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747542046_79ac8f66
2025-05-18 12:20:46,367 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-18 12:20:46,368 - soothe_app.src.ui.gradio_interface - INFO - EnhancedGradioInterface initialized
2025-05-18 12:20:46,369 - soothe_app.src.ui.gradio_interface - INFO - Creating enhanced Gradio interface
2025-05-18 12:20:46,699 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-18 12:20:47,156 - httpx - INFO - HTTP Request: GET https://api.placid.app/u/pfot4gzld?width=320&height=320&text[name][text]=Serena "HTTP/1.1 404 Not Found"
2025-05-18 12:20:47,199 - soothe_app.src.ui.gradio_interface - INFO - Launching enhanced Gradio interface
2025-05-18 12:20:47,199 - soothe_app.src.ui.gradio_interface - WARNING - Favicon not found in common locations
2025-05-18 12:20:47,200 - soothe_app.src.ui.gradio_interface - ERROR - Failed to launch Gradio interface: Blocks.launch() got an unexpected keyword argument 'default_enabled_dir'
2025-05-18 12:20:47,200 - __main__ - CRITICAL - Unhandled exception: Blocks.launch() got an unexpected keyword argument 'default_enabled_dir'
Traceback (most recent call last):
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\src\main.py", line 74, in main
    interface.launch(share=True, server_name="0.0.0.0", server_port=7861)
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\src\ui\gradio_interface.py", line 406, in launch
    self.interface.launch(
TypeError: Blocks.launch() got an unexpected keyword argument 'default_enabled_dir'
2025-05-18 12:20:47,399 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-18 12:20:47,400 - soothe_app.src.ui.tts_handler - INFO - TTS session stats: {'session_id': 'ses_1747542046_79ac8f66', 'session_duration_seconds': 1.0348236560821533, 'total_synthesis_count': 0, 'total_chars_synthesized': 0, 'average_length': 0, 'synthesis_categories': {}}
2025-05-18 12:20:47,401 - soothe_app.src.ui.speech_audit_trail - INFO - Logged end of speech synthesis session: ses_1747542046_79ac8f66
2025-05-18 12:20:47,401 - soothe_app.src.ui.tts_handler - INFO - TTS handler cleanup completed
2025-05-19 10:07:15,545 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-19 10:07:15,546 - __main__ - INFO - Starting SootheAI application
2025-05-19 10:07:15,546 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-19 10:07:15,547 - __main__ - INFO - Setting up ElevenLabs client
2025-05-19 10:07:15,769 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-19 10:07:15,770 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-19 10:07:15,771 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-19 10:07:15,977 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-19 10:07:15,977 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-19 10:07:15,986 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-19 10:07:15,987 - __main__ - INFO - Loaded character data for Serena
2025-05-19 10:07:15,987 - __main__ - INFO - Creating Gradio interface
2025-05-19 10:07:15,988 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-19 10:07:15
2025-05-19 10:07:15,989 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-19 10:07:15,990 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-19 10:07:15,993 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747620435_231da2c3
2025-05-19 10:07:15,993 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-19 10:07:15,994 - soothe_app.src.ui.gradio_interface - INFO - GradioInterface initialized
2025-05-19 10:07:15,994 - soothe_app.src.ui.gradio_interface - INFO - Creating Gradio interface
2025-05-19 10:07:16,084 - soothe_app.src.ui.gradio_interface - INFO - Launching Gradio interface
2025-05-19 10:07:16,416 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 10:07:17,125 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 10:07:18,531 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-19 10:07:20,801 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-19 10:07:21,829 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-19 10:07:40,053 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: i agree...
2025-05-19 10:07:40,054 - soothe_app.src.core.narrative_engine - INFO - User consent received
2025-05-19 10:07:40,055 - soothe_app.src.models.game_state - INFO - User consent recorded
2025-05-19 10:07:43,237 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: i agree...
2025-05-19 10:07:43,238 - soothe_app.src.core.narrative_engine - INFO - Sending message to Claude API: i agree...
2025-05-19 10:07:43,239 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-19 10:07:56,820 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-19 10:07:56,853 - soothe_app.src.core.narrative_engine - INFO - Successfully processed message and generated response
2025-05-19 10:10:03,418 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: Slack off today...
2025-05-19 10:10:08,394 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: enable audio...
2025-05-19 10:10:08,397 - soothe_app.src.ui.tts_handler - INFO - User enabled audio narration
2025-05-19 10:10:19,634 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: slack off today...
2025-05-19 10:10:19,635 - soothe_app.src.models.game_state - INFO - Interaction count incremented to 1
2025-05-19 10:10:19,637 - soothe_app.src.core.narrative_engine - INFO - Interaction count: 1
2025-05-19 10:10:19,639 - soothe_app.src.core.narrative_engine - INFO - Sending message to Claude API: slack off today...
2025-05-19 10:10:19,644 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 3 messages
2025-05-19 10:10:33,442 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-19 10:10:33,458 - soothe_app.src.core.narrative_engine - INFO - Successfully processed message and generated response
2025-05-19 10:10:33,463 - soothe_app.src.ui.tts_handler - WARNING - TTS rate limited: Text too long for audio (1291 chars). Maximum 1000 characters.
2025-05-19 10:10:33,471 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747620435_231da2c3_1, Length=103, Category=rate_limited
2025-05-19 10:10:33,472 - soothe_app.src.ui.speech_audit_trail - WARNING - Logged speech synthesis error: Rate limiting: Text too long for audio (1291 chars). Maximum 1000 characters.
2025-05-19 20:29:03,519 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-19 20:29:03,520 - __main__ - INFO - Starting SootheAI application
2025-05-19 20:29:03,520 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-19 20:29:03,521 - __main__ - INFO - Setting up ElevenLabs client
2025-05-19 20:29:03,711 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-19 20:29:03,712 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-19 20:29:03,712 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-19 20:29:03,906 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-19 20:29:03,907 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-19 20:29:03,924 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-19 20:29:03,925 - __main__ - INFO - Loaded character data for Serena
2025-05-19 20:29:03,926 - __main__ - INFO - Creating Gradio interface
2025-05-19 20:29:03,927 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-19 20:29:03
2025-05-19 20:29:03,927 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-19 20:29:03,927 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-19 20:29:03,933 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747657743_9de08378
2025-05-19 20:29:03,934 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-19 20:29:04,373 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 20:29:04,417 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 20:29:05,091 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 20:29:05,107 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 20:29:06,467 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-19 20:29:08,786 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-19 20:29:09,754 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-19 20:36:00,707 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-19 20:36:00,708 - __main__ - INFO - Starting SootheAI application
2025-05-19 20:36:00,709 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-19 20:36:00,709 - __main__ - INFO - Setting up ElevenLabs client
2025-05-19 20:36:00,923 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-19 20:36:00,923 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-19 20:36:00,924 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-19 20:36:01,136 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-19 20:36:01,137 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-19 20:36:01,137 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-19 20:36:01,138 - __main__ - INFO - Loaded character data for Serena
2025-05-19 20:36:01,138 - __main__ - INFO - Creating Gradio interface
2025-05-19 20:36:01,140 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-19 20:36:01
2025-05-19 20:36:01,141 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-19 20:36:01,141 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-19 20:36:01,142 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747658161_c2a6e964
2025-05-19 20:36:01,142 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-19 20:36:01,575 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 20:36:01,602 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 20:36:02,304 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 20:36:02,339 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 20:36:03,702 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-19 20:36:05,808 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-19 20:36:07,207 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-19 21:02:57,223 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-19 21:02:57,224 - __main__ - INFO - Starting SootheAI application
2025-05-19 21:02:57,225 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-19 21:02:57,225 - __main__ - INFO - Setting up ElevenLabs client
2025-05-19 21:02:57,435 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-19 21:02:57,437 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-19 21:02:57,439 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-19 21:02:57,643 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-19 21:02:57,644 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-19 21:02:57,646 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-19 21:02:57,647 - __main__ - INFO - Loaded character data for Serena
2025-05-19 21:02:57,648 - __main__ - INFO - Creating Gradio interface
2025-05-19 21:02:57,648 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-19 21:02:57
2025-05-19 21:02:57,648 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-19 21:02:57,649 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-19 21:02:57,650 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747659777_c157d695
2025-05-19 21:02:57,650 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-19 21:02:58,074 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 21:02:58,133 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 21:02:58,808 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 21:02:58,845 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 21:03:00,175 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-19 21:03:02,266 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-19 21:03:03,283 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-19 21:10:05,158 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-19 21:10:05,159 - __main__ - INFO - Starting SootheAI application
2025-05-19 21:10:05,160 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-19 21:10:05,161 - __main__ - INFO - Setting up ElevenLabs client
2025-05-19 21:10:05,381 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-19 21:10:05,382 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-19 21:10:05,383 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-19 21:10:05,616 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-19 21:10:05,617 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-19 21:10:05,617 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-19 21:10:05,618 - __main__ - INFO - Loaded character data for Serena
2025-05-19 21:10:05,620 - __main__ - INFO - Creating Gradio interface
2025-05-19 21:10:05,620 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-19 21:10:05
2025-05-19 21:10:05,621 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-19 21:10:05,621 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-19 21:10:05,623 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747660205_b1b51a25
2025-05-19 21:10:05,624 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-19 21:10:06,075 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 21:10:06,102 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 21:10:06,828 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 21:10:06,842 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 21:10:08,216 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-19 21:10:10,340 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-19 21:10:11,611 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-19 21:25:01,545 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-19 21:25:01,546 - __main__ - INFO - Starting SootheAI application
2025-05-19 21:25:01,548 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-19 21:25:01,548 - __main__ - INFO - Setting up ElevenLabs client
2025-05-19 21:25:01,807 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-19 21:25:01,807 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-19 21:25:01,808 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-19 21:25:02,012 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-19 21:25:02,013 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-19 21:25:02,014 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-19 21:25:02,015 - __main__ - INFO - Loaded character data for Serena
2025-05-19 21:25:02,017 - __main__ - INFO - Creating Gradio interface
2025-05-19 21:25:02,017 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-19 21:25:02
2025-05-19 21:25:02,018 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-19 21:25:02,018 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-19 21:25:02,020 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747661102_d0f2f026
2025-05-19 21:25:02,020 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-19 21:25:02,484 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 21:25:02,508 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-19 21:25:03,210 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 21:25:03,237 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-19 21:25:04,620 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-19 21:25:06,690 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-19 21:25:07,622 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-19 21:26:37,499 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: I agree without audio...
2025-05-19 21:26:37,501 - soothe_app.src.core.narrative_engine - INFO - User consent received without audio
2025-05-19 21:26:37,503 - soothe_app.src.models.game_state - INFO - User consent recorded
2025-05-19 21:26:37,508 - soothe_app.src.ui.tts_handler - INFO - Voice consent revoked
2025-05-19 21:26:43,656 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: I agree without audio...
2025-05-19 21:26:43,658 - soothe_app.src.ui.tts_handler - INFO - Voice consent revoked
2025-05-19 21:26:43,661 - soothe_app.src.ui.tts_handler - INFO - User disabled audio narration through combined consent
2025-05-19 21:26:56,142 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: start game...
2025-05-19 21:27:17,678 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-19 21:27:17,680 - soothe_app.src.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-19 21:27:17,683 - soothe_app.src.ui.tts_handler - INFO - User enabled audio narration through combined consent
2025-05-19 21:27:55,203 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-19 21:27:55,214 - soothe_app.src.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-19 21:27:55,219 - soothe_app.src.ui.tts_handler - INFO - User enabled audio narration through combined consent
2025-05-20 13:59:19,966 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-20 13:59:19,971 - __main__ - INFO - Starting SootheAI application
2025-05-20 13:59:19,972 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-20 13:59:19,975 - __main__ - INFO - Setting up ElevenLabs client
2025-05-20 13:59:20,444 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-20 13:59:20,445 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-20 13:59:20,447 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-20 13:59:20,911 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-20 13:59:20,912 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-20 13:59:20,929 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-20 13:59:20,932 - __main__ - INFO - Loaded character data for Serena
2025-05-20 13:59:20,933 - __main__ - INFO - Creating Gradio interface
2025-05-20 13:59:20,934 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-20 13:59:20
2025-05-20 13:59:20,935 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-20 13:59:20,937 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-20 13:59:20,939 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747720760_d8d55ec5
2025-05-20 13:59:20,939 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-20 13:59:21,897 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-20 13:59:22,019 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-20 13:59:22,660 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-20 13:59:22,876 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-20 13:59:24,274 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-20 13:59:26,665 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-20 13:59:27,993 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-20 14:06:09,363 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-20 14:06:09,363 - soothe_app.src.core.narrative_engine - INFO - User consent received with audio enabled
2025-05-20 14:06:09,364 - soothe_app.src.models.game_state - INFO - User consent recorded
2025-05-20 14:06:09,364 - soothe_app.src.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-20 14:06:09,364 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 83/50000 daily chars
2025-05-20 14:06:09,366 - soothe_app.src.ui.tts_handler - INFO - Started TTS thread for text: Thank you for agreeing to the terms with audio ena...
2025-05-20 14:06:09,466 - soothe_app.src.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-20 14:06:09,468 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747720760_d8d55ec5_1, Length=132, Category=narrative
2025-05-20 14:06:10,878 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-20 14:06:10,879 - soothe_app.src.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue.'}}
2025-05-20 14:06:10,884 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747720760_d8d55ec5_2, Length=103, Category=narrative
2025-05-20 14:06:10,885 - soothe_app.src.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activ
2025-05-20 14:06:12,867 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: start game...
2025-05-20 14:06:12,867 - soothe_app.src.core.narrative_engine - INFO - Requesting initial narrative from Claude API
2025-05-20 14:06:12,869 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-20 14:06:19,865 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-20 14:06:19,872 - soothe_app.src.models.game_state - INFO - Starting narrative set
2025-05-20 14:06:19,872 - soothe_app.src.core.narrative_engine - ERROR - Error initializing game: 'TTSHandler' object has no attribute 'mark_tts_session_started'
2025-05-23 10:04:00,359 - soothe_app.src.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-23 10:04:00,360 - __main__ - INFO - Starting SootheAI application
2025-05-23 10:04:00,361 - soothe_app.src.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-23 10:04:00,361 - __main__ - INFO - Setting up ElevenLabs client
2025-05-23 10:04:00,573 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-23 10:04:00,574 - soothe_app.src.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-23 10:04:00,575 - soothe_app.src.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-23 10:04:00,790 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-23 10:04:00,791 - soothe_app.src.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-23 10:04:00,828 - soothe_app.src.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-23 10:04:00,829 - soothe_app.src.utils.file_loader - INFO - Loaded character data from: soothe_app\config\characters\serena
2025-05-23 10:04:00,830 - __main__ - INFO - Loaded character data for Serena
2025-05-23 10:04:00,831 - __main__ - INFO - Creating Gradio interface
2025-05-23 10:04:00,831 - soothe_app.src.models.game_state - INFO - Game state initialized at 2025-05-23 10:04:00
2025-05-23 10:04:00,832 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-23 10:04:00,832 - soothe_app.src.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-23 10:04:00,833 - soothe_app.src.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1747965840_c29f5c14
2025-05-23 10:04:00,833 - soothe_app.src.ui.tts_handler - INFO - TTS handler initialized
2025-05-23 10:04:01,275 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-23 10:04:01,292 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-23 10:04:01,993 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-23 10:04:02,046 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-23 10:04:03,414 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-23 10:04:05,680 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-23 10:04:06,665 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-23 10:04:40,337 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-23 10:04:40,338 - soothe_app.src.core.narrative_engine - INFO - User consent received with audio enabled
2025-05-23 10:04:40,339 - soothe_app.src.models.game_state - INFO - User consent recorded
2025-05-23 10:04:40,340 - soothe_app.src.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-23 10:04:40,341 - soothe_app.src.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 83/50000 daily chars
2025-05-23 10:04:40,344 - soothe_app.src.ui.tts_handler - INFO - Started TTS thread for text: Thank you for agreeing to the terms with audio ena...
2025-05-23 10:04:40,445 - soothe_app.src.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-23 10:04:40,447 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747965840_c29f5c14_1, Length=132, Category=narrative
2025-05-23 10:04:41,734 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-23 10:04:41,739 - soothe_app.src.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue.'}}
2025-05-23 10:04:41,741 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747965840_c29f5c14_2, Length=103, Category=narrative
2025-05-23 10:04:41,741 - soothe_app.src.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activ
2025-05-23 10:04:45,997 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: start game...
2025-05-23 10:04:45,998 - soothe_app.src.core.narrative_engine - INFO - Requesting initial narrative from Claude API
2025-05-23 10:04:45,999 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-23 10:04:55,832 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-23 10:04:55,839 - soothe_app.src.models.game_state - INFO - Starting narrative set
2025-05-23 10:04:55,843 - soothe_app.src.ui.tts_handler - INFO - TTS session marked as started
2025-05-23 10:04:55,849 - soothe_app.src.core.narrative_engine - INFO - Audio consent is given, TTS session will be started with narrative
2025-05-23 10:04:55,856 - soothe_app.src.core.narrative_engine - INFO - Successfully initialized game with starting narrative
2025-05-23 10:05:44,721 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: Take a few minutes to write in your journal about ...
2025-05-23 10:05:44,723 - soothe_app.src.models.game_state - INFO - Interaction count incremented to 1
2025-05-23 10:05:44,725 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-23 10:05:54,414 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-23 10:05:54,418 - soothe_app.src.ui.tts_handler - WARNING - TTS rate limited: Text too long for audio (1476 chars). Maximum 1000 characters.
2025-05-23 10:05:54,420 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747965840_c29f5c14_3, Length=103, Category=rate_limited
2025-05-23 10:05:54,422 - soothe_app.src.ui.speech_audit_trail - WARNING - Logged speech synthesis error: Rate limiting: Text too long for audio (1476 chars). Maximum 1000 characters.
2025-05-23 10:08:02,873 - soothe_app.src.ui.gradio_interface - INFO - Processing message in main loop: Write about my crush in school...
2025-05-23 10:08:02,874 - soothe_app.src.models.game_state - INFO - Interaction count incremented to 2
2025-05-23 10:08:02,875 - soothe_app.src.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-23 10:08:13,124 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-23 10:08:13,128 - soothe_app.src.ui.tts_handler - WARNING - TTS rate limited: Text too long for audio (1680 chars). Maximum 1000 characters.
2025-05-23 10:08:13,130 - soothe_app.src.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1747965840_c29f5c14_4, Length=103, Category=rate_limited
2025-05-23 10:08:13,131 - soothe_app.src.ui.speech_audit_trail - WARNING - Logged speech synthesis error: Rate limiting: Text too long for audio (1680 chars). Maximum 1000 characters.
2025-05-25 15:02:44,843 - soothe_app.v2.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-25 15:02:44,844 - __main__ - INFO - Starting SootheAI application
2025-05-25 15:02:44,844 - soothe_app.v2.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-25 15:02:44,844 - __main__ - INFO - Setting up ElevenLabs client
2025-05-25 15:02:45,056 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-25 15:02:45,056 - soothe_app.v2.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-25 15:02:45,057 - soothe_app.v2.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-25 15:02:45,260 - soothe_app.v2.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-25 15:02:45,261 - soothe_app.v2.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-25 15:02:45,272 - soothe_app.v2.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-25 15:02:45,273 - soothe_app.v2.utils.file_loader - INFO - Loaded character data from: soothe_app\config\characters\serena
2025-05-25 15:02:45,273 - __main__ - INFO - Loaded character data for Serena
2025-05-25 15:02:45,274 - __main__ - INFO - Creating Gradio interface
2025-05-25 15:02:45,275 - soothe_app.v2.models.game_state - INFO - Game state initialized at 2025-05-25 15:02:45
2025-05-25 15:02:45,276 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-25 15:02:45,276 - soothe_app.v2.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-25 15:02:45,278 - soothe_app.v2.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748156565_3adefb9c
2025-05-25 15:02:45,279 - soothe_app.v2.ui.tts_handler - INFO - TTS handler initialized
2025-05-25 15:02:45,741 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 15:02:45,772 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 15:02:46,468 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:02:46,494 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:02:47,894 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:02:50,130 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 15:02:51,088 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-25 15:03:58,488 - soothe_app.v2.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-25 15:03:58,489 - soothe_app.v2.core.narrative_engine - INFO - User consent received with audio enabled
2025-05-25 15:03:58,491 - soothe_app.v2.models.game_state - INFO - User consent recorded
2025-05-25 15:03:58,495 - soothe_app.v2.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-25 15:03:58,500 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 83/50000 daily chars
2025-05-25 15:03:58,516 - soothe_app.v2.ui.tts_handler - INFO - Started TTS thread for text: Thank you for agreeing to the terms with audio ena...
2025-05-25 15:03:58,617 - soothe_app.v2.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 15:03:58,623 - soothe_app.v2.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748156565_3adefb9c_1, Length=132, Category=narrative
2025-05-25 15:03:59,852 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-25 15:04:04,540 - soothe_app.v2.ui.gradio_interface - INFO - Processing message in main loop: start game...
2025-05-25 15:04:04,542 - soothe_app.v2.core.narrative_engine - INFO - Requesting initial narrative from Claude API
2025-05-25 15:04:04,543 - soothe_app.v2.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 15:04:07,342 - soothe_app.v2.ui.tts_handler - INFO - [DEBUG] TTS streaming duration: 8.72 seconds
2025-05-25 15:04:13,968 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 15:04:13,972 - soothe_app.v2.models.game_state - INFO - Starting narrative set
2025-05-25 15:04:13,975 - soothe_app.v2.ui.tts_handler - INFO - TTS session marked as started
2025-05-25 15:04:13,979 - soothe_app.v2.core.narrative_engine - INFO - Audio consent is given, TTS session will be started with narrative
2025-05-25 15:04:13,982 - soothe_app.v2.core.narrative_engine - INFO - Successfully initialized game with starting narrative
2025-05-25 22:44:59,667 - soothe_app.v2.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-25 22:44:59,668 - __main__ - INFO - Starting SootheAI application with autonomous character generation
2025-05-25 22:44:59,669 - soothe_app.v2.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-25 22:44:59,671 - __main__ - INFO - Setting up ElevenLabs client
2025-05-25 22:44:59,872 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-25 22:44:59,873 - soothe_app.v2.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-25 22:44:59,875 - soothe_app.v2.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-25 22:45:00,080 - __main__ - INFO - Creating autonomous Gradio interface
2025-05-25 22:45:00,080 - soothe_app.v2.models.game_state - INFO - Game state initialized at 2025-05-25 22:45:00
2025-05-25 22:45:00,081 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-25 22:45:00,084 - soothe_app.v2.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-25 22:45:00,086 - soothe_app.v2.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748184300_a105d032
2025-05-25 22:45:00,086 - soothe_app.v2.ui.tts_handler - INFO - TTS handler initialized
2025-05-25 22:45:00,575 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 22:45:00,576 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 22:45:01,313 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:45:01,313 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:45:02,661 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-25 22:45:05,014 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 22:45:06,044 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-25 23:09:34,708 - soothe_app.v1.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-25 23:09:34,709 - __main__ - INFO - Starting SootheAI application
2025-05-25 23:09:34,710 - soothe_app.v1.utils.safety - INFO - Content filter initialized successfully
2025-05-25 23:09:34,710 - __main__ - INFO - Setting up ElevenLabs client
2025-05-25 23:09:34,934 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-25 23:09:34,934 - soothe_app.v1.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-25 23:09:34,936 - soothe_app.v1.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-25 23:09:35,143 - soothe_app.v1.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-25 23:09:35,143 - soothe_app.v1.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-25 23:09:35,162 - soothe_app.v1.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-25 23:09:35,163 - soothe_app.v1.utils.file_loader - INFO - Loaded character data from: soothe_app\config\characters\serena
2025-05-25 23:09:35,164 - __main__ - INFO - Loaded character data for Serena
2025-05-25 23:09:35,165 - __main__ - INFO - Creating Gradio interface
2025-05-25 23:09:35,166 - __main__ - CRITICAL - Unhandled exception: create_gradio_interface() takes from 0 to 1 positional arguments but 2 were given
Traceback (most recent call last):
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\v1\main.py", line 92, in main
    interface = create_gradio_interface(
                ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_gradio_interface() takes from 0 to 1 positional arguments but 2 were given
2025-05-25 23:10:24,536 - soothe_app.v1.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-25 23:10:24,536 - __main__ - INFO - Starting SootheAI application
2025-05-25 23:10:24,537 - soothe_app.v1.utils.safety - INFO - Content filter initialized successfully
2025-05-25 23:10:24,538 - __main__ - INFO - Setting up ElevenLabs client
2025-05-25 23:10:24,743 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-25 23:10:24,744 - soothe_app.v1.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-25 23:10:24,744 - soothe_app.v1.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-25 23:10:24,949 - soothe_app.v1.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-25 23:10:24,949 - soothe_app.v1.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-25 23:10:24,950 - soothe_app.v1.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-25 23:10:24,951 - soothe_app.v1.utils.file_loader - INFO - Loaded character data from: soothe_app\config\characters\serena
2025-05-25 23:10:24,952 - __main__ - INFO - Loaded character data for Serena
2025-05-25 23:10:24,952 - __main__ - INFO - Creating Gradio interface
2025-05-25 23:10:24,953 - soothe_app.v1.models.game_state - INFO - Game state initialized at 2025-05-25 23:10:24
2025-05-25 23:10:24,956 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 5000 chars/request, 50000 daily char limit
2025-05-25 23:10:24,957 - soothe_app.v1.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-25 23:10:24,958 - soothe_app.v1.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748185824_d2e78f3b
2025-05-25 23:10:24,959 - soothe_app.v1.ui.tts_handler - INFO - TTS handler initialized
2025-05-25 23:10:25,360 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 23:10:25,409 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 23:10:26,096 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 23:10:26,130 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 23:10:27,539 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-25 23:10:29,634 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 23:10:30,649 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-25 23:18:07,421 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-25 23:18:07,422 - soothe_app.v1.core.narrative_engine - INFO - User consent received with audio enabled
2025-05-25 23:18:07,422 - soothe_app.v1.models.game_state - INFO - User consent recorded
2025-05-25 23:18:07,425 - soothe_app.v1.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-25 23:18:07,427 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 83/50000 daily chars
2025-05-25 23:18:07,429 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: Thank you for agreeing to the terms with audio ena...
2025-05-25 23:18:07,529 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:18:07,529 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_1, Length=132, Category=narrative
2025-05-25 23:18:08,988 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-25 23:18:16,242 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] TTS streaming duration: 8.71 seconds
2025-05-25 23:32:59,646 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-25 23:32:59,648 - soothe_app.v1.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-25 23:32:59,650 - soothe_app.v1.ui.tts_handler - INFO - User enabled audio narration through combined consent
2025-05-25 23:32:59,655 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 1
2025-05-25 23:32:59,659 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:33:11,223 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:33:11,231 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 1740/50000 daily chars
2025-05-25 23:33:11,239 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: **Monday Morning, 6:15 AM - Raffles Junior College...
2025-05-25 23:33:11,340 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:33:11,342 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_2, Length=1657, Category=inner_thoughts
2025-05-25 23:33:11,666 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:33:11,669 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 695 credits remaining, while 829 credits are required for this request.'}}
2025-05-25 23:33:11,672 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_3, Length=103, Category=inner_thoughts
2025-05-25 23:33:11,675 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-25 23:33:55,968 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I'm feeling really overwhelmed with school pressur...
2025-05-25 23:33:55,970 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 2
2025-05-25 23:33:55,971 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:34:05,515 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:34:05,518 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 2/10 requests, 3290/50000 daily chars
2025-05-25 23:34:05,521 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: **Welcome to Serena's Story**

---

It's 5:30 AM a...
2025-05-25 23:34:05,627 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:34:05,635 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_4, Length=1550, Category=inner_thoughts
2025-05-25 23:34:05,939 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:34:05,942 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 695 credits remaining, while 775 credits are required for this request.'}}
2025-05-25 23:34:05,944 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_5, Length=103, Category=inner_thoughts
2025-05-25 23:34:05,944 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-25 23:34:35,252 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I wanna kill myself...
2025-05-25 23:34:35,253 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 3
2025-05-25 23:34:35,254 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:34:41,376 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:34:41,379 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 2/10 requests, 4202/50000 daily chars
2025-05-25 23:34:41,385 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: I'm really concerned about what you've shared. If ...
2025-05-25 23:34:41,485 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:34:41,487 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_6, Length=912, Category=options
2025-05-25 23:34:41,897 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-25 23:34:50,814 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I wanna kill myself...
2025-05-25 23:34:50,815 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 4
2025-05-25 23:34:50,816 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:34:57,051 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:34:57,054 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 3/10 requests, 5146/50000 daily chars
2025-05-25 23:34:57,059 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: I'm really concerned about what you've shared. If ...
2025-05-25 23:34:57,159 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:34:57,161 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_7, Length=944, Category=options
2025-05-25 23:34:57,476 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:34:57,479 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue.'}}
2025-05-25 23:34:57,482 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_8, Length=103, Category=options
2025-05-25 23:34:57,484 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activ
2025-05-25 23:35:15,056 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: [Errno 32] Broken pipe
2025-05-25 23:35:15,057 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748185824_d2e78f3b_9, Length=103, Category=options
2025-05-25 23:35:15,058 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: [Errno 32] Broken pipe
2025-05-25 23:35:44,819 - soothe_app.v2.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-25 23:35:44,820 - __main__ - INFO - Starting SootheAI application with autonomous character generation
2025-05-25 23:35:44,820 - soothe_app.v2.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-25 23:35:44,821 - __main__ - INFO - Setting up ElevenLabs client
2025-05-25 23:35:45,017 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-25 23:35:45,018 - soothe_app.v2.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-25 23:35:45,019 - soothe_app.v2.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-25 23:35:45,234 - __main__ - INFO - Creating autonomous Gradio interface
2025-05-25 23:35:45,235 - soothe_app.v2.models.game_state - INFO - Game state initialized at 2025-05-25 23:35:45
2025-05-25 23:35:45,236 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-25 23:35:45,237 - soothe_app.v2.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-25 23:35:45,239 - soothe_app.v2.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748187345_ae75d713
2025-05-25 23:35:45,240 - soothe_app.v2.ui.tts_handler - INFO - TTS handler initialized
2025-05-25 23:35:45,684 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 23:35:45,727 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 23:35:46,398 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 23:35:46,451 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 23:35:47,817 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-25 23:35:49,930 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 23:35:50,863 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-25 23:36:35,484 - soothe_app.v1.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-25 23:36:35,484 - __main__ - INFO - Starting SootheAI application
2025-05-25 23:36:35,486 - soothe_app.v1.utils.safety - INFO - Content filter initialized successfully
2025-05-25 23:36:35,486 - __main__ - INFO - Setting up ElevenLabs client
2025-05-25 23:36:35,701 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-25 23:36:35,702 - soothe_app.v1.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-25 23:36:35,702 - soothe_app.v1.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-25 23:36:35,899 - soothe_app.v1.utils.file_loader - WARNING - JSON file not found in any location: characters\serena.json
2025-05-25 23:36:35,900 - soothe_app.v1.utils.file_loader - WARNING - JSON file not found in any location: soothe_app\characters\serena.json
2025-05-25 23:36:35,900 - soothe_app.v1.utils.file_loader - INFO - Loading JSON file: soothe_app\config\characters\serena.json
2025-05-25 23:36:35,901 - soothe_app.v1.utils.file_loader - INFO - Loaded character data from: soothe_app\config\characters\serena
2025-05-25 23:36:35,902 - __main__ - INFO - Loaded character data for Serena
2025-05-25 23:36:35,904 - __main__ - INFO - Creating Gradio interface
2025-05-25 23:36:35,906 - soothe_app.v1.models.game_state - INFO - Game state initialized at 2025-05-25 23:36:35
2025-05-25 23:36:35,907 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 5000 chars/request, 50000 daily char limit
2025-05-25 23:36:35,908 - soothe_app.v1.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-25 23:36:35,909 - soothe_app.v1.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748187395_3a3c864c
2025-05-25 23:36:35,914 - soothe_app.v1.ui.tts_handler - INFO - TTS handler initialized
2025-05-25 23:36:36,350 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 23:36:36,358 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-25 23:36:36,991 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 23:36:37,082 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 23:36:38,439 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-25 23:36:40,540 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 23:36:41,500 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-25 23:37:05,754 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I agree with audio...
2025-05-25 23:37:05,755 - soothe_app.v1.core.narrative_engine - INFO - User consent received with audio enabled
2025-05-25 23:37:05,756 - soothe_app.v1.models.game_state - INFO - User consent recorded
2025-05-25 23:37:05,757 - soothe_app.v1.ui.tts_handler - INFO - Voice consent explicitly given
2025-05-25 23:37:05,759 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 83/50000 daily chars
2025-05-25 23:37:05,764 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: Thank you for agreeing to the terms with audio ena...
2025-05-25 23:37:05,864 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:37:05,866 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_1, Length=132, Category=narrative
2025-05-25 23:37:06,292 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-25 23:37:13,940 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] TTS streaming duration: 8.07 seconds
2025-05-25 23:45:51,041 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I agree...
2025-05-25 23:45:51,043 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 1
2025-05-25 23:45:51,044 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:46:01,192 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:46:37,349 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: Do self harm...
2025-05-25 23:46:37,351 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 2
2025-05-25 23:46:37,358 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:46:47,382 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:46:47,385 - soothe_app.v1.utils.safety - WARNING - Detected harmful content in LLM response. Severity: 4.0
2025-05-25 23:46:47,386 - soothe_app.v1.utils.safety - WARNING - Categories violated: self_harm
2025-05-25 23:46:47,390 - soothe_app.v1.utils.safety - ERROR - Critical content detected in LLM response, replacing entirely
2025-05-25 23:46:47,393 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 1007/50000 daily chars
2025-05-25 23:46:47,395 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: I notice this conversation is headed in a potentia...
2025-05-25 23:46:47,497 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:46:47,498 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_2, Length=924, Category=options
2025-05-25 23:46:47,824 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:46:47,829 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 173 credits remaining, while 462 credits are required for this request.'}}
2025-05-25 23:46:47,832 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_3, Length=103, Category=options
2025-05-25 23:46:47,835 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-25 23:53:29,365 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: continue the story...
2025-05-25 23:53:29,366 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 3
2025-05-25 23:53:29,366 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:53:39,230 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:53:39,233 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 2750/50000 daily chars
2025-05-25 23:53:39,236 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: **Monday Morning, 6:15 AM - Raffles Junior College...
2025-05-25 23:53:39,337 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:53:39,339 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_4, Length=1743, Category=inner_thoughts
2025-05-25 23:53:39,653 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:53:39,658 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activity detected. Free Tier usage disabled. If you are using a proxy/VPN you might need to purchase a Paid Plan to not trigger our abuse detectors. Free Tier only works if users do not abuse it, for example by creating multiple free accounts. If we notice that many people try to abuse it, we will need to reconsider Free Tier altogether. \nPlease play fair and purchase any Paid Subscription to continue.'}}
2025-05-25 23:53:39,665 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_5, Length=103, Category=inner_thoughts
2025-05-25 23:53:39,668 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'detected_unusual_activity', 'message': 'Unusual activ
2025-05-25 23:53:57,454 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: I can't take it anymore, I want to give up...
2025-05-25 23:53:57,454 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 4
2025-05-25 23:53:57,456 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:54:04,682 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:54:04,686 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 2/10 requests, 4007/50000 daily chars
2025-05-25 23:54:04,688 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: You sit at your desk in your room, surrounded by s...
2025-05-25 23:54:04,789 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:54:04,790 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_6, Length=1257, Category=inner_thoughts
2025-05-25 23:54:05,068 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:54:05,072 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 173 credits remaining, while 629 credits are required for this request.'}}
2025-05-25 23:54:05,075 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_7, Length=103, Category=inner_thoughts
2025-05-25 23:54:05,077 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-25 23:54:49,238 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: Jump down a building...
2025-05-25 23:54:49,239 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 5
2025-05-25 23:54:49,244 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:54:59,027 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:54:59,028 - soothe_app.v1.utils.safety - WARNING - Detected harmful content in LLM response. Severity: 4.0
2025-05-25 23:54:59,029 - soothe_app.v1.utils.safety - WARNING - Categories violated: self_harm
2025-05-25 23:54:59,033 - soothe_app.v1.utils.safety - ERROR - Critical content detected in LLM response, replacing entirely
2025-05-25 23:54:59,034 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 2/10 requests, 4931/50000 daily chars
2025-05-25 23:54:59,037 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: I notice this conversation is headed in a potentia...
2025-05-25 23:54:59,137 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:54:59,139 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_8, Length=924, Category=options
2025-05-25 23:54:59,426 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:54:59,427 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 173 credits remaining, while 462 credits are required for this request.'}}
2025-05-25 23:54:59,429 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_9, Length=103, Category=options
2025-05-25 23:54:59,430 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-25 23:58:08,754 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: Continue the story...
2025-05-25 23:58:08,756 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 6
2025-05-25 23:58:08,757 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:58:18,794 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:58:18,798 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 1/10 requests, 6781/50000 daily chars
2025-05-25 23:58:18,801 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: **Monday Morning, 6:15 AM - Raffles Junior College...
2025-05-25 23:58:18,903 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:58:18,906 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_10, Length=1850, Category=inner_thoughts
2025-05-25 23:58:19,201 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:58:19,202 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 173 credits remaining, while 925 credits are required for this request.'}}
2025-05-25 23:58:19,204 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_11, Length=103, Category=inner_thoughts
2025-05-25 23:58:19,206 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-25 23:58:37,040 - soothe_app.v1.ui.gradio_interface - INFO - Processing message in main loop: Ask chloe if she studied?...
2025-05-25 23:58:37,041 - soothe_app.v1.models.game_state - INFO - Interaction count incremented to 7
2025-05-25 23:58:37,041 - soothe_app.v1.core.api_client - INFO - Sending request to Claude API with 1 messages
2025-05-25 23:58:45,076 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-25 23:58:45,079 - soothe_app.v1.ui.tts_handler - INFO - TTS rate limiter: 2/10 requests, 8135/50000 daily chars
2025-05-25 23:58:45,081 - soothe_app.v1.ui.tts_handler - INFO - Started TTS thread for text: You spot Chloe at her usual table in the library, ...
2025-05-25 23:58:45,182 - soothe_app.v1.ui.tts_handler - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-25 23:58:45,183 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_12, Length=1354, Category=inner_thoughts
2025-05-25 23:58:45,487 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 401 Unauthorized"
2025-05-25 23:58:45,490 - soothe_app.v1.ui.tts_handler - ERROR - TTS Error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds your quota of 10000. You have 173 credits remaining, while 677 credits are required for this request.'}}
2025-05-25 23:58:45,492 - soothe_app.v1.ui.speech_audit_trail - INFO - Logged speech synthesis: ID=syn_ses_1748187395_3a3c864c_13, Length=103, Category=inner_thoughts
2025-05-25 23:58:45,498 - soothe_app.v1.ui.speech_audit_trail - WARNING - Logged speech synthesis error: status_code: 401, body: {'detail': {'status': 'quota_exceeded', 'message': 'This request exceeds you
2025-05-27 11:28:57,546 - soothe_app.v2.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-27 11:28:57,546 - __main__ - INFO - Starting SootheAI application with autonomous character generation
2025-05-27 11:28:57,547 - soothe_app.v2.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-27 11:28:57,547 - __main__ - INFO - Setting up ElevenLabs client
2025-05-27 11:28:57,796 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-27 11:28:57,797 - soothe_app.v2.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-27 11:28:57,798 - soothe_app.v2.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-27 11:28:58,035 - __main__ - INFO - Creating autonomous Gradio interface
2025-05-27 11:28:58,036 - soothe_app.v2.models.game_state - INFO - Game state initialized at 2025-05-27 11:28:58
2025-05-27 11:28:58,037 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-27 11:28:58,038 - soothe_app.v2.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-27 11:28:58,039 - soothe_app.v2.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748316538_a979213f
2025-05-27 11:28:58,040 - soothe_app.v2.ui.tts_handler - INFO - TTS handler initialized
2025-05-27 11:28:58,540 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-27 11:28:58,565 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-27 11:28:59,330 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-27 11:28:59,393 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-27 11:29:00,670 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-27 11:29:02,935 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-27 11:29:03,999 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-27 11:32:32,421 - soothe_app.v2.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-27 11:32:32,422 - __main__ - INFO - Starting SootheAI application with autonomous character generation
2025-05-27 11:32:32,422 - soothe_app.v2.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-27 11:32:32,423 - __main__ - INFO - Setting up ElevenLabs client
2025-05-27 11:32:32,650 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-27 11:32:32,650 - soothe_app.v2.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-27 11:32:32,651 - soothe_app.v2.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-27 11:32:32,865 - __main__ - INFO - Creating autonomous Gradio interface
2025-05-27 11:32:32,866 - soothe_app.v2.models.game_state - INFO - Game state initialized at 2025-05-27 11:32:32
2025-05-27 11:32:32,867 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-27 11:32:32,868 - soothe_app.v2.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-27 11:32:32,877 - soothe_app.v2.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748316752_49a064ba
2025-05-27 11:32:32,878 - soothe_app.v2.ui.tts_handler - INFO - TTS handler initialized
2025-05-27 11:32:33,336 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-27 11:32:33,349 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-27 11:32:34,305 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-27 11:32:34,305 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-27 11:32:38,072 - soothe_app.v2.ui.gradio_interface - ERROR - Failed to launch Gradio interface: Cannot find empty port in range: 7861-7861. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-05-27 11:32:38,073 - __main__ - CRITICAL - Unhandled exception: Cannot find empty port in range: 7861-7861. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
Traceback (most recent call last):
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\v2\main.py", line 65, in main
    interface.launch(share=True, server_name="0.0.0.0", server_port=7861)
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\v2\ui\gradio_interface.py", line 425, in launch
    self.interface.launch(  # Launch the web interface
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\venv\Lib\site-packages\gradio\blocks.py", line 2371, in launch
    ) = http_server.start_server(
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\venv\Lib\site-packages\gradio\http_server.py", line 154, in start_server
    raise OSError(
OSError: Cannot find empty port in range: 7861-7861. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-05-27 11:32:38,119 - soothe_app.v2.ui.tts_handler - INFO - TTS session stats: {'session_id': 'ses_1748316752_49a064ba', 'session_duration_seconds': 5.248709678649902, 'total_synthesis_count': 0, 'total_chars_synthesized': 0, 'average_length': 0, 'synthesis_categories': {}}
2025-05-27 11:32:38,121 - soothe_app.v2.ui.speech_audit_trail - INFO - Logged end of speech synthesis session: ses_1748316752_49a064ba
2025-05-27 11:32:38,121 - soothe_app.v2.ui.tts_handler - INFO - TTS handler cleanup completed
2025-05-27 11:33:13,408 - soothe_app.v2.utils.logger - INFO - Logging configured: console=INFO, file=INFO, log_file=soothe_app.log
2025-05-27 11:33:13,408 - __main__ - INFO - Starting SootheAI application with autonomous character generation
2025-05-27 11:33:13,409 - soothe_app.v2.utils.safety - WARNING - Enhanced content filter not available, cannot initialize
2025-05-27 11:33:13,410 - __main__ - INFO - Setting up ElevenLabs client
2025-05-27 11:33:13,651 - __main__ - INFO - ElevenLabs client initialized successfully
2025-05-27 11:33:13,652 - soothe_app.v2.core.api_client - INFO - Attempting to initialize Claude client with standard configuration
2025-05-27 11:33:13,652 - soothe_app.v2.core.api_client - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-27 11:33:13,865 - __main__ - INFO - Creating autonomous Gradio interface
2025-05-27 11:33:13,865 - soothe_app.v2.models.game_state - INFO - Game state initialized at 2025-05-27 11:33:13
2025-05-27 11:33:13,866 - soothe_app.v2.ui.tts_handler - INFO - TTS rate limiter initialized with 10 requests/min, 1000 chars/request, 50000 daily char limit
2025-05-27 11:33:13,867 - soothe_app.v2.ui.tts_handler - INFO - Voice consent manager initialized
2025-05-27 11:33:13,869 - soothe_app.v2.ui.speech_audit_trail - INFO - Speech synthesis audit trail initialized with session ID: ses_1748316793_e17f8018
2025-05-27 11:33:13,869 - soothe_app.v2.ui.tts_handler - INFO - TTS handler initialized
2025-05-27 11:33:14,374 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-27 11:33:14,389 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-27 11:33:15,210 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-27 11:33:15,233 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-27 11:33:19,038 - soothe_app.v2.ui.gradio_interface - ERROR - Failed to launch Gradio interface: Cannot find empty port in range: 7861-7861. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-05-27 11:33:19,040 - __main__ - CRITICAL - Unhandled exception: Cannot find empty port in range: 7861-7861. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
Traceback (most recent call last):
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\v2\main.py", line 65, in main
    interface.launch(share=True, server_name="0.0.0.0", server_port=7861)
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\soothe_app\v2\ui\gradio_interface.py", line 425, in launch
    self.interface.launch(  # Launch the web interface
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\venv\Lib\site-packages\gradio\blocks.py", line 2371, in launch
    ) = http_server.start_server(
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dteo8\OneDrive\Documents\Projects\TheKopiCoders\venv\Lib\site-packages\gradio\http_server.py", line 154, in start_server
    raise OSError(
OSError: Cannot find empty port in range: 7861-7861. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-05-27 11:33:19,050 - soothe_app.v2.ui.tts_handler - INFO - TTS session stats: {'session_id': 'ses_1748316793_e17f8018', 'session_duration_seconds': 5.181210279464722, 'total_synthesis_count': 0, 'total_chars_synthesized': 0, 'average_length': 0, 'synthesis_categories': {}}
2025-05-27 11:33:19,052 - soothe_app.v2.ui.speech_audit_trail - INFO - Logged end of speech synthesis session: ses_1748316793_e17f8018
2025-05-27 11:33:19,053 - soothe_app.v2.ui.tts_handler - INFO - TTS handler cleanup completed
