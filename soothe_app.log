2025-05-15 23:47:15,649 - __main__ - INFO - Enhanced content filter initialized successfully
2025-05-15 23:47:15,651 - __main__ - INFO - Loading character data from JSON file
2025-05-15 23:47:15,651 - __main__ - WARNING - JSON file not found: characters/serena.json
2025-05-15 23:47:15,652 - __main__ - INFO - Checking Anthropic SDK version
2025-05-15 23:47:15,652 - __main__ - INFO - Attempting to initialize Claude client with standard configuration
2025-05-15 23:47:15,652 - __main__ - WARNING - Proxy configuration error, attempting alternative initialization
2025-05-15 23:47:15,866 - __main__ - INFO - Starting SootheAI application
2025-05-15 23:47:15,866 - __main__ - INFO - Initializing game interface
2025-05-15 23:47:15,942 - __main__ - INFO - Launching game interface
2025-05-15 23:47:16,241 - httpx - INFO - HTTP Request: GET https://checkip.amazonaws.com/ "HTTP/1.1 200 "
2025-05-15 23:47:16,953 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-15 23:47:18,348 - httpx - INFO - HTTP Request: GET http://localhost:7861/startup-events "HTTP/1.1 200 OK"
2025-05-15 23:47:20,633 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-15 23:47:21,599 - httpx - INFO - HTTP Request: GET https://api.gradio.app/v2/tunnel-request "HTTP/1.1 200 OK"
2025-05-15 23:47:42,526 - __main__ - INFO - Processing message in main loop: i agree...
2025-05-15 23:47:42,527 - __main__ - INFO - User consent received
2025-05-15 23:47:47,226 - __main__ - INFO - Processing message in main loop: start game...
2025-05-15 23:47:47,227 - __main__ - INFO - Starting new game
2025-05-15 23:47:47,229 - __main__ - INFO - Requesting initial narrative from Claude API
2025-05-15 23:47:54,857 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-15 23:47:54,864 - __main__ - INFO - Successfully received and filtered initial narrative from Claude API
2025-05-15 23:47:54,877 - __main__ - INFO - Started TTS thread for text: The early morning sun filters through the curtains...
2025-05-15 23:47:54,885 - __main__ - INFO - Streaming TTS for initial narrative
2025-05-15 23:47:54,978 - __main__ - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-15 23:47:56,743 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-15 23:49:15,539 - __main__ - INFO - [DEBUG] TTS streaming duration: 80.56 seconds
2025-05-15 23:58:09,117 - __main__ - INFO - Processing message in main loop: hello...
2025-05-15 23:58:09,118 - __main__ - INFO - Interaction count: 1
2025-05-15 23:58:09,119 - __main__ - INFO - Sending message to Claude API: hello...
2025-05-15 23:58:14,954 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-15 23:58:14,962 - __main__ - INFO - Started TTS thread for text: Welcome to Serena's story. Let's begin...

The ala...
2025-05-15 23:58:14,963 - __main__ - INFO - Received and filtered response from Claude API: Welcome to Serena's story. Let's begin...

The ala...
2025-05-15 23:58:14,966 - __main__ - INFO - Streaming TTS for response: Welcome to Serena's story. Let's begin...

The ala...
2025-05-15 23:58:15,063 - __main__ - INFO - [DEBUG] Starting TTS stream with ffmpeg pipe...
2025-05-15 23:58:15,583 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-05-15 23:58:48,478 - __main__ - ERROR - TTS Error: [Errno 32] Broken pipe
